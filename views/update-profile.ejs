<!DOCTYPE html>
<html>

<head>
	<title>My Car Parking System - Login</title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
</head>

<body>
	<!-- Navigation bar -->
	<nav class="navbar navbar-expand-md navbar-light bg-light">
		<a class="navbar-brand" href="/home"><i class="fas fa-car"></i> My Car Parking System</a>
	</nav>

	<!-- Main section -->
	<div class="container mt-5">
		<div class="row">
			<div class="col-md-6 mx-auto">
				<div class="card">
					<div class="card-header">
						<h4>Update Profile</h4>
					</div>
					<div class="card-body">
						<form action="/user/update-profile" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
							<% if (error) { %>
								<div class="alert alert-danger" role="alert">
									<%= error %>
								</div>
							<% } %>
									<div class="form-group">
										<label for="fname"><i class="fas fa-user"></i> First Name</label>
										<input type="text" class="form-control" id="fname" name="fname" placeholder="Enter first name" required>
									</div>
									<div class="form-group">
										<label for="lname"><i class="fas fa-user"></i> Last Name</label>
										<input type="text" class="form-control" id="lname" name="lname" placeholder="Enter last name" required>
									</div>
									<div class="form-group">
										<label for="email"><i class="fas fa-envelope"></i> Email Address</label>
										<input type="email" class="form-control" id="email" name="email" placeholder="Enter email" required>
									</div>
									<div class="form-group">
										<label for="avatar">Profile Photo</label>
										<input type="file" id="avatar" name="avatar" accept="image/*" required>
									</div>
									<div class="form-group">
										<label for="password"><i class="fas fa-lock"></i> New Password</label>
										<input type="password" class="form-control" id="password" name="password" placeholder="Enter new password" required>
									</div>
									<div class="form-group">
										<label for="confirm_password"><i class="fas fa-lock"></i> Confirm New Password</label>
										<input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm new password" required>
									</div>
									<button type="submit" class="btn btn-primary btn-block"><i class="fas fa-save"></i> Update Profile</button>
						</form>
						<hr>
						<div class="text-center">
							<a href="/user/delete-account" class="btn btn-outline-danger"><i class="fas fa-trash-alt"></i> Delete Account</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		function validateForm() {
			var password = document.getElementById("password").value;
			var confirm_password = document.getElementById("confirm_password").value;
			var password_error = document.getElementById("password_error");

			if (password != confirm_password) {
				password_error.innerHTML = "Passwords do not match";
				return false;
			} else {
				password_error.innerHTML = "";
				return true;
			}
		}
	</script>

	<!-- Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
</body>

</html>